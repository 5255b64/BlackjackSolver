use std::{default, ops::Add};
use strum_macros::{Display, EnumIter};

#[derive(Debug, Copy, Clone, PartialEq, EnumIter, Hash, Display, Eq, Default)]
pub enum EValue {
    #[default]
    None,
    H2,
    H3,
    H4,
    H5,
    H6,
    H7,
    H8,
    H9,
    H10,
    S11,
    S12,
    S13,
    S14,
    S15,
    S16,
    S17,
    S18,
    S19,
    S20,
    S21,
    H11,
    H12,
    H13,
    H14,
    H15,
    H16,
    H17,
    H18,
    H19,
    H20,
    H21,
    Bust,
}

impl EValue {
    pub fn to_point(&self) -> u8 {
        match self {
            EValue::None => 0,
            EValue::H2 => 2,
            EValue::H3 => 3,
            EValue::H4 => 4,
            EValue::H5 => 5,
            EValue::H6 => 6,
            EValue::H7 => 7,
            EValue::H8 => 8,
            EValue::H9 => 9,
            EValue::H10 => 10,
            EValue::H11 => 11,
            EValue::H12 => 12,
            EValue::H13 => 13,
            EValue::H14 => 14,
            EValue::H15 => 15,
            EValue::H16 => 16,
            EValue::H17 => 17,
            EValue::H18 => 18,
            EValue::H19 => 19,
            EValue::H20 => 20,
            EValue::H21 => 21,
            EValue::Bust => 1,
            EValue::S11 => 11,
            EValue::S12 => 12,
            EValue::S13 => 13,
            EValue::S14 => 14,
            EValue::S15 => 15,
            EValue::S16 => 16,
            EValue::S17 => 17,
            EValue::S18 => 18,
            EValue::S19 => 19,
            EValue::S20 => 20,
            EValue::S21 => 21,
        }
    }
}
impl From<EValue> for u8 {
    fn from(value: EValue) -> Self {
        match value {
            EValue::H2 => 2,
            EValue::H3 => 3,
            EValue::H4 => 4,
            EValue::H5 => 5,
            EValue::H6 => 6,
            EValue::H7 => 7,
            EValue::H8 => 8,
            EValue::H9 => 9,
            EValue::H10 => 10,
            EValue::H11 | EValue::S11 => 11,
            EValue::H12 | EValue::S12 => 12,
            EValue::H13 | EValue::S13 => 13,
            EValue::H14 | EValue::S14 => 14,
            EValue::H15 | EValue::S15 => 15,
            EValue::H16 | EValue::S16 => 16,
            EValue::H17 | EValue::S17 => 17,
            EValue::H18 | EValue::S18 => 18,
            EValue::H19 | EValue::S19 => 19,
            EValue::H20 | EValue::S20 => 20,
            EValue::H21 | EValue::S21 => 21,
            EValue::Bust => 22,
            EValue::None => 0,
        }
    }
}

impl Add<EValue> for EValue {
    type Output = EValue;

    fn add(self, rhs: EValue) -> Self::Output {
        match self {
            EValue::H2 => match rhs {
                EValue::H2 => EValue::H4,
                EValue::H3 => EValue::H5,
                EValue::H4 => EValue::H6,
                EValue::H5 => EValue::H7,
                EValue::H6 => EValue::H8,
                EValue::H7 => EValue::H9,
                EValue::H8 => EValue::H10,
                EValue::H9 => EValue::H11,
                EValue::H10 => EValue::H12,
                EValue::H11 => EValue::H13,
                EValue::H12 => EValue::H14,
                EValue::H13 => EValue::H15,
                EValue::H14 => EValue::H16,
                EValue::H15 => EValue::H17,
                EValue::H16 => EValue::H18,
                EValue::H17 => EValue::H19,
                EValue::H18 => EValue::H20,
                EValue::H19 => EValue::H21,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S13,
                EValue::S12 => EValue::S14,
                EValue::S13 => EValue::S15,
                EValue::S14 => EValue::S16,
                EValue::S15 => EValue::S17,
                EValue::S16 => EValue::S18,
                EValue::S17 => EValue::S19,
                EValue::S18 => EValue::S20,
                EValue::S19 => EValue::S21,
                EValue::S20 => EValue::H12,
                EValue::S21 => EValue::H13,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H2,
            },
            EValue::H3 => match rhs {
                EValue::H2 => EValue::H5,
                EValue::H3 => EValue::H6,
                EValue::H4 => EValue::H7,
                EValue::H5 => EValue::H8,
                EValue::H6 => EValue::H9,
                EValue::H7 => EValue::H10,
                EValue::H8 => EValue::H11,
                EValue::H9 => EValue::H12,
                EValue::H10 => EValue::H13,
                EValue::H11 => EValue::H14,
                EValue::H12 => EValue::H15,
                EValue::H13 => EValue::H16,
                EValue::H14 => EValue::H17,
                EValue::H15 => EValue::H18,
                EValue::H16 => EValue::H19,
                EValue::H17 => EValue::H20,
                EValue::H18 => EValue::H21,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S14,
                EValue::S12 => EValue::S15,
                EValue::S13 => EValue::S16,
                EValue::S14 => EValue::S17,
                EValue::S15 => EValue::S18,
                EValue::S16 => EValue::S19,
                EValue::S17 => EValue::S20,
                EValue::S18 => EValue::S21,
                EValue::S19 => EValue::H12,
                EValue::S20 => EValue::H13,
                EValue::S21 => EValue::H14,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H3,
            },
            EValue::H4 => match rhs {
                EValue::H2 => EValue::H6,
                EValue::H3 => EValue::H7,
                EValue::H4 => EValue::H8,
                EValue::H5 => EValue::H9,
                EValue::H6 => EValue::H10,
                EValue::H7 => EValue::H11,
                EValue::H8 => EValue::H12,
                EValue::H9 => EValue::H13,
                EValue::H10 => EValue::H14,
                EValue::H11 => EValue::H15,
                EValue::H12 => EValue::H16,
                EValue::H13 => EValue::H17,
                EValue::H14 => EValue::H18,
                EValue::H15 => EValue::H19,
                EValue::H16 => EValue::H20,
                EValue::H17 => EValue::H21,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S15,
                EValue::S12 => EValue::S16,
                EValue::S13 => EValue::S17,
                EValue::S14 => EValue::S18,
                EValue::S15 => EValue::S19,
                EValue::S16 => EValue::S20,
                EValue::S17 => EValue::S21,
                EValue::S18 => EValue::H12,
                EValue::S19 => EValue::H13,
                EValue::S20 => EValue::H14,
                EValue::S21 => EValue::H15,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H4,
            },
            EValue::H5 => match rhs {
                EValue::H2 => EValue::H7,
                EValue::H3 => EValue::H8,
                EValue::H4 => EValue::H9,
                EValue::H5 => EValue::H10,
                EValue::H6 => EValue::H11,
                EValue::H7 => EValue::H12,
                EValue::H8 => EValue::H13,
                EValue::H9 => EValue::H14,
                EValue::H10 => EValue::H15,
                EValue::H11 => EValue::H16,
                EValue::H12 => EValue::H17,
                EValue::H13 => EValue::H18,
                EValue::H14 => EValue::H19,
                EValue::H15 => EValue::H20,
                EValue::H16 => EValue::H21,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S16,
                EValue::S12 => EValue::S17,
                EValue::S13 => EValue::S18,
                EValue::S14 => EValue::S19,
                EValue::S15 => EValue::S20,
                EValue::S16 => EValue::S21,
                EValue::S17 => EValue::H12,
                EValue::S18 => EValue::H13,
                EValue::S19 => EValue::H14,
                EValue::S20 => EValue::H15,
                EValue::S21 => EValue::H16,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H5,
            },
            EValue::H6 => match rhs {
                EValue::H2 => EValue::H8,
                EValue::H3 => EValue::H9,
                EValue::H4 => EValue::H10,
                EValue::H5 => EValue::H11,
                EValue::H6 => EValue::H12,
                EValue::H7 => EValue::H13,
                EValue::H8 => EValue::H14,
                EValue::H9 => EValue::H15,
                EValue::H10 => EValue::H16,
                EValue::H11 => EValue::H17,
                EValue::H12 => EValue::H18,
                EValue::H13 => EValue::H19,
                EValue::H14 => EValue::H20,
                EValue::H15 => EValue::H21,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S17,
                EValue::S12 => EValue::S18,
                EValue::S13 => EValue::S19,
                EValue::S14 => EValue::S20,
                EValue::S15 => EValue::S21,
                EValue::S16 => EValue::H12,
                EValue::S17 => EValue::H13,
                EValue::S18 => EValue::H14,
                EValue::S19 => EValue::H15,
                EValue::S20 => EValue::H16,
                EValue::S21 => EValue::H17,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H6,
            },
            EValue::H7 => match rhs {
                EValue::H2 => EValue::H9,
                EValue::H3 => EValue::H10,
                EValue::H4 => EValue::H11,
                EValue::H5 => EValue::H12,
                EValue::H6 => EValue::H13,
                EValue::H7 => EValue::H14,
                EValue::H8 => EValue::H15,
                EValue::H9 => EValue::H16,
                EValue::H10 => EValue::H17,
                EValue::H11 => EValue::H18,
                EValue::H12 => EValue::H19,
                EValue::H13 => EValue::H20,
                EValue::H14 => EValue::H21,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S18,
                EValue::S12 => EValue::S19,
                EValue::S13 => EValue::S20,
                EValue::S14 => EValue::S21,
                EValue::S15 => EValue::H12,
                EValue::S16 => EValue::H13,
                EValue::S17 => EValue::H14,
                EValue::S18 => EValue::H15,
                EValue::S19 => EValue::H16,
                EValue::S20 => EValue::H17,
                EValue::S21 => EValue::H18,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H7,
            },
            EValue::H8 => match rhs {
                EValue::H2 => EValue::H10,
                EValue::H3 => EValue::H11,
                EValue::H4 => EValue::H12,
                EValue::H5 => EValue::H13,
                EValue::H6 => EValue::H14,
                EValue::H7 => EValue::H15,
                EValue::H8 => EValue::H16,
                EValue::H9 => EValue::H17,
                EValue::H10 => EValue::H18,
                EValue::H11 => EValue::H19,
                EValue::H12 => EValue::H20,
                EValue::H13 => EValue::H21,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S19,
                EValue::S12 => EValue::S20,
                EValue::S13 => EValue::S21,
                EValue::S14 => EValue::H12,
                EValue::S15 => EValue::H13,
                EValue::S16 => EValue::H14,
                EValue::S17 => EValue::H15,
                EValue::S18 => EValue::H16,
                EValue::S19 => EValue::H17,
                EValue::S20 => EValue::H18,
                EValue::S21 => EValue::H19,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H8,
            },
            EValue::H9 => match rhs {
                EValue::H2 => EValue::H11,
                EValue::H3 => EValue::H12,
                EValue::H4 => EValue::H13,
                EValue::H5 => EValue::H14,
                EValue::H6 => EValue::H15,
                EValue::H7 => EValue::H16,
                EValue::H8 => EValue::H17,
                EValue::H9 => EValue::H18,
                EValue::H10 => EValue::H19,
                EValue::H11 => EValue::H20,
                EValue::H12 => EValue::H21,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S20,
                EValue::S12 => EValue::S21,
                EValue::S13 => EValue::H12,
                EValue::S14 => EValue::H13,
                EValue::S15 => EValue::H14,
                EValue::S16 => EValue::H15,
                EValue::S17 => EValue::H16,
                EValue::S18 => EValue::H17,
                EValue::S19 => EValue::H18,
                EValue::S20 => EValue::H19,
                EValue::S21 => EValue::H20,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H9,
            },
            EValue::H10 => match rhs {
                EValue::H2 => EValue::H12,
                EValue::H3 => EValue::H13,
                EValue::H4 => EValue::H14,
                EValue::H5 => EValue::H15,
                EValue::H6 => EValue::H16,
                EValue::H7 => EValue::H17,
                EValue::H8 => EValue::H18,
                EValue::H9 => EValue::H19,
                EValue::H10 => EValue::H20,
                EValue::H11 => EValue::H21,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S21,
                EValue::S12 => EValue::H12,
                EValue::S13 => EValue::H13,
                EValue::S14 => EValue::H14,
                EValue::S15 => EValue::H15,
                EValue::S16 => EValue::H16,
                EValue::S17 => EValue::H17,
                EValue::S18 => EValue::H18,
                EValue::S19 => EValue::H19,
                EValue::S20 => EValue::H20,
                EValue::S21 => EValue::H21,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H10,
            },
            EValue::H11 => match rhs {
                EValue::H2 => EValue::H13,
                EValue::H3 => EValue::H14,
                EValue::H4 => EValue::H15,
                EValue::H5 => EValue::H16,
                EValue::H6 => EValue::H17,
                EValue::H7 => EValue::H18,
                EValue::H8 => EValue::H19,
                EValue::H9 => EValue::H20,
                EValue::H10 => EValue::H21,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H12,
                EValue::S12 => EValue::H13,
                EValue::S13 => EValue::H14,
                EValue::S14 => EValue::H15,
                EValue::S15 => EValue::H16,
                EValue::S16 => EValue::H17,
                EValue::S17 => EValue::H18,
                EValue::S18 => EValue::H19,
                EValue::S19 => EValue::H20,
                EValue::S20 => EValue::H21,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H11,
            },
            EValue::H12 => match rhs {
                EValue::H2 => EValue::H14,
                EValue::H3 => EValue::H15,
                EValue::H4 => EValue::H16,
                EValue::H5 => EValue::H17,
                EValue::H6 => EValue::H18,
                EValue::H7 => EValue::H19,
                EValue::H8 => EValue::H20,
                EValue::H9 => EValue::H21,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H13,
                EValue::S12 => EValue::H14,
                EValue::S13 => EValue::H15,
                EValue::S14 => EValue::H16,
                EValue::S15 => EValue::H17,
                EValue::S16 => EValue::H18,
                EValue::S17 => EValue::H19,
                EValue::S18 => EValue::H20,
                EValue::S19 => EValue::H21,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H12,
            },
            EValue::H13 => match rhs {
                EValue::H2 => EValue::H15,
                EValue::H3 => EValue::H16,
                EValue::H4 => EValue::H17,
                EValue::H5 => EValue::H18,
                EValue::H6 => EValue::H19,
                EValue::H7 => EValue::H20,
                EValue::H8 => EValue::H21,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H14,
                EValue::S12 => EValue::H15,
                EValue::S13 => EValue::H16,
                EValue::S14 => EValue::H17,
                EValue::S15 => EValue::H18,
                EValue::S16 => EValue::H19,
                EValue::S17 => EValue::H20,
                EValue::S18 => EValue::H21,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H13,
            },
            EValue::H14 => match rhs {
                EValue::H2 => EValue::H16,
                EValue::H3 => EValue::H17,
                EValue::H4 => EValue::H18,
                EValue::H5 => EValue::H19,
                EValue::H6 => EValue::H20,
                EValue::H7 => EValue::H21,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H15,
                EValue::S12 => EValue::H16,
                EValue::S13 => EValue::H17,
                EValue::S14 => EValue::H18,
                EValue::S15 => EValue::H19,
                EValue::S16 => EValue::H20,
                EValue::S17 => EValue::H21,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H14,
            },
            EValue::H15 => match rhs {
                EValue::H2 => EValue::H17,
                EValue::H3 => EValue::H18,
                EValue::H4 => EValue::H19,
                EValue::H5 => EValue::H20,
                EValue::H6 => EValue::H21,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H16,
                EValue::S12 => EValue::H17,
                EValue::S13 => EValue::H18,
                EValue::S14 => EValue::H19,
                EValue::S15 => EValue::H20,
                EValue::S16 => EValue::H21,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H15,
            },
            EValue::H16 => match rhs {
                EValue::H2 => EValue::H18,
                EValue::H3 => EValue::H19,
                EValue::H4 => EValue::H20,
                EValue::H5 => EValue::H21,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H17,
                EValue::S12 => EValue::H18,
                EValue::S13 => EValue::H19,
                EValue::S14 => EValue::H20,
                EValue::S15 => EValue::H21,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H16,
            },
            EValue::H17 => match rhs {
                EValue::H2 => EValue::H19,
                EValue::H3 => EValue::H20,
                EValue::H4 => EValue::H21,
                EValue::H5 => EValue::Bust,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H18,
                EValue::S12 => EValue::H19,
                EValue::S13 => EValue::H20,
                EValue::S14 => EValue::H21,
                EValue::S15 => EValue::Bust,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H17,
            },
            EValue::H18 => match rhs {
                EValue::H2 => EValue::H20,
                EValue::H3 => EValue::H21,
                EValue::H4 => EValue::Bust,
                EValue::H5 => EValue::Bust,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H19,
                EValue::S12 => EValue::H20,
                EValue::S13 => EValue::H21,
                EValue::S14 => EValue::Bust,
                EValue::S15 => EValue::Bust,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H18,
            },
            EValue::H19 => match rhs {
                EValue::H2 => EValue::H21,
                EValue::H3 => EValue::Bust,
                EValue::H4 => EValue::Bust,
                EValue::H5 => EValue::Bust,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H20,
                EValue::S12 => EValue::H21,
                EValue::S13 => EValue::Bust,
                EValue::S14 => EValue::Bust,
                EValue::S15 => EValue::Bust,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H19,
            },
            EValue::H20 => match rhs {
                EValue::H2 => EValue::Bust,
                EValue::H3 => EValue::Bust,
                EValue::H4 => EValue::Bust,
                EValue::H5 => EValue::Bust,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H21,
                EValue::S12 => EValue::Bust,
                EValue::S13 => EValue::Bust,
                EValue::S14 => EValue::Bust,
                EValue::S15 => EValue::Bust,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H20,
            },
            EValue::H21 => match rhs {
                EValue::H2 => EValue::Bust,
                EValue::H3 => EValue::Bust,
                EValue::H4 => EValue::Bust,
                EValue::H5 => EValue::Bust,
                EValue::H6 => EValue::Bust,
                EValue::H7 => EValue::Bust,
                EValue::H8 => EValue::Bust,
                EValue::H9 => EValue::Bust,
                EValue::H10 => EValue::Bust,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::Bust,
                EValue::S12 => EValue::Bust,
                EValue::S13 => EValue::Bust,
                EValue::S14 => EValue::Bust,
                EValue::S15 => EValue::Bust,
                EValue::S16 => EValue::Bust,
                EValue::S17 => EValue::Bust,
                EValue::S18 => EValue::Bust,
                EValue::S19 => EValue::Bust,
                EValue::S20 => EValue::Bust,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::H21,
            },
            EValue::S11 => match rhs {
                EValue::H2 => EValue::S13,
                EValue::H3 => EValue::S14,
                EValue::H4 => EValue::S15,
                EValue::H5 => EValue::S16,
                EValue::H6 => EValue::S17,
                EValue::H7 => EValue::S18,
                EValue::H8 => EValue::S19,
                EValue::H9 => EValue::S20,
                EValue::H10 => EValue::S21,
                EValue::H11 => EValue::H12,
                EValue::H12 => EValue::H13,
                EValue::H13 => EValue::H14,
                EValue::H14 => EValue::H15,
                EValue::H15 => EValue::H16,
                EValue::H16 => EValue::H17,
                EValue::H17 => EValue::H18,
                EValue::H18 => EValue::H19,
                EValue::H19 => EValue::H20,
                EValue::H20 => EValue::H21,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S12,
                EValue::S12 => EValue::S13,
                EValue::S13 => EValue::S14,
                EValue::S14 => EValue::S15,
                EValue::S15 => EValue::S16,
                EValue::S16 => EValue::S17,
                EValue::S17 => EValue::S18,
                EValue::S18 => EValue::S19,
                EValue::S19 => EValue::S20,
                EValue::S20 => EValue::S21,
                EValue::S21 => EValue::H12,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S11,
            },
            EValue::S12 => match rhs {
                EValue::H2 => EValue::S14,
                EValue::H3 => EValue::S15,
                EValue::H4 => EValue::S16,
                EValue::H5 => EValue::S17,
                EValue::H6 => EValue::S18,
                EValue::H7 => EValue::S19,
                EValue::H8 => EValue::S20,
                EValue::H9 => EValue::S21,
                EValue::H10 => EValue::H12,
                EValue::H11 => EValue::H13,
                EValue::H12 => EValue::H14,
                EValue::H13 => EValue::H15,
                EValue::H14 => EValue::H16,
                EValue::H15 => EValue::H17,
                EValue::H16 => EValue::H18,
                EValue::H17 => EValue::H19,
                EValue::H18 => EValue::H20,
                EValue::H19 => EValue::H21,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S13,
                EValue::S12 => EValue::S14,
                EValue::S13 => EValue::S15,
                EValue::S14 => EValue::S16,
                EValue::S15 => EValue::S17,
                EValue::S16 => EValue::S18,
                EValue::S17 => EValue::S19,
                EValue::S18 => EValue::S20,
                EValue::S19 => EValue::S21,
                EValue::S20 => EValue::H12,
                EValue::S21 => EValue::H13,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S12,
            },
            EValue::S13 => match rhs {
                EValue::H2 => EValue::S15,
                EValue::H3 => EValue::S16,
                EValue::H4 => EValue::S17,
                EValue::H5 => EValue::S18,
                EValue::H6 => EValue::S19,
                EValue::H7 => EValue::S20,
                EValue::H8 => EValue::S21,
                EValue::H9 => EValue::H12,
                EValue::H10 => EValue::H13,
                EValue::H11 => EValue::H14,
                EValue::H12 => EValue::H15,
                EValue::H13 => EValue::H16,
                EValue::H14 => EValue::H17,
                EValue::H15 => EValue::H18,
                EValue::H16 => EValue::H19,
                EValue::H17 => EValue::H20,
                EValue::H18 => EValue::H21,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S14,
                EValue::S12 => EValue::S15,
                EValue::S13 => EValue::S16,
                EValue::S14 => EValue::S17,
                EValue::S15 => EValue::S18,
                EValue::S16 => EValue::S19,
                EValue::S17 => EValue::S20,
                EValue::S18 => EValue::S21,
                EValue::S19 => EValue::H12,
                EValue::S20 => EValue::H13,
                EValue::S21 => EValue::H14,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S13,
            },
            EValue::S14 => match rhs {
                EValue::H2 => EValue::S16,
                EValue::H3 => EValue::S17,
                EValue::H4 => EValue::S18,
                EValue::H5 => EValue::S19,
                EValue::H6 => EValue::S20,
                EValue::H7 => EValue::S21,
                EValue::H8 => EValue::H12,
                EValue::H9 => EValue::H13,
                EValue::H10 => EValue::H14,
                EValue::H11 => EValue::H15,
                EValue::H12 => EValue::H16,
                EValue::H13 => EValue::H17,
                EValue::H14 => EValue::H18,
                EValue::H15 => EValue::H19,
                EValue::H16 => EValue::H20,
                EValue::H17 => EValue::H21,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S15,
                EValue::S12 => EValue::S16,
                EValue::S13 => EValue::S17,
                EValue::S14 => EValue::S18,
                EValue::S15 => EValue::S19,
                EValue::S16 => EValue::S20,
                EValue::S17 => EValue::S21,
                EValue::S18 => EValue::H12,
                EValue::S19 => EValue::H13,
                EValue::S20 => EValue::H14,
                EValue::S21 => EValue::H15,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S14,
            },
            EValue::S15 => match rhs {
                EValue::H2 => EValue::S17,
                EValue::H3 => EValue::S18,
                EValue::H4 => EValue::S19,
                EValue::H5 => EValue::S20,
                EValue::H6 => EValue::S21,
                EValue::H7 => EValue::H12,
                EValue::H8 => EValue::H13,
                EValue::H9 => EValue::H14,
                EValue::H10 => EValue::H15,
                EValue::H11 => EValue::H16,
                EValue::H12 => EValue::H17,
                EValue::H13 => EValue::H18,
                EValue::H14 => EValue::H19,
                EValue::H15 => EValue::H20,
                EValue::H16 => EValue::H21,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S16,
                EValue::S12 => EValue::S17,
                EValue::S13 => EValue::S18,
                EValue::S14 => EValue::S19,
                EValue::S15 => EValue::S20,
                EValue::S16 => EValue::S21,
                EValue::S17 => EValue::H12,
                EValue::S18 => EValue::H13,
                EValue::S19 => EValue::H14,
                EValue::S20 => EValue::H15,
                EValue::S21 => EValue::H16,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S15,
            },
            EValue::S16 => match rhs {
                EValue::H2 => EValue::S18,
                EValue::H3 => EValue::S19,
                EValue::H4 => EValue::S20,
                EValue::H5 => EValue::S21,
                EValue::H6 => EValue::H12,
                EValue::H7 => EValue::H13,
                EValue::H8 => EValue::H14,
                EValue::H9 => EValue::H15,
                EValue::H10 => EValue::H16,
                EValue::H11 => EValue::H17,
                EValue::H12 => EValue::H18,
                EValue::H13 => EValue::H19,
                EValue::H14 => EValue::H20,
                EValue::H15 => EValue::H21,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S17,
                EValue::S12 => EValue::S18,
                EValue::S13 => EValue::S19,
                EValue::S14 => EValue::S20,
                EValue::S15 => EValue::S21,
                EValue::S16 => EValue::H12,
                EValue::S17 => EValue::H13,
                EValue::S18 => EValue::H14,
                EValue::S19 => EValue::H15,
                EValue::S20 => EValue::H16,
                EValue::S21 => EValue::H17,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S16,
            },
            EValue::S17 => match rhs {
                EValue::H2 => EValue::S19,
                EValue::H3 => EValue::S20,
                EValue::H4 => EValue::S21,
                EValue::H5 => EValue::H12,
                EValue::H6 => EValue::H13,
                EValue::H7 => EValue::H14,
                EValue::H8 => EValue::H15,
                EValue::H9 => EValue::H16,
                EValue::H10 => EValue::H17,
                EValue::H11 => EValue::H18,
                EValue::H12 => EValue::H19,
                EValue::H13 => EValue::H20,
                EValue::H14 => EValue::H21,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S18,
                EValue::S12 => EValue::S19,
                EValue::S13 => EValue::S20,
                EValue::S14 => EValue::S21,
                EValue::S15 => EValue::H12,
                EValue::S16 => EValue::H13,
                EValue::S17 => EValue::H14,
                EValue::S18 => EValue::H15,
                EValue::S19 => EValue::H16,
                EValue::S20 => EValue::H17,
                EValue::S21 => EValue::H18,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S17,
            },
            EValue::S18 => match rhs {
                EValue::H2 => EValue::S20,
                EValue::H3 => EValue::S21,
                EValue::H4 => EValue::H12,
                EValue::H5 => EValue::H13,
                EValue::H6 => EValue::H14,
                EValue::H7 => EValue::H15,
                EValue::H8 => EValue::H16,
                EValue::H9 => EValue::H17,
                EValue::H10 => EValue::H18,
                EValue::H11 => EValue::H19,
                EValue::H12 => EValue::H20,
                EValue::H13 => EValue::H21,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S19,
                EValue::S12 => EValue::S20,
                EValue::S13 => EValue::S21,
                EValue::S14 => EValue::H12,
                EValue::S15 => EValue::H13,
                EValue::S16 => EValue::H14,
                EValue::S17 => EValue::H15,
                EValue::S18 => EValue::H16,
                EValue::S19 => EValue::H17,
                EValue::S20 => EValue::H18,
                EValue::S21 => EValue::H19,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S18,
            },
            EValue::S19 => match rhs {
                EValue::H2 => EValue::S21,
                EValue::H3 => EValue::H12,
                EValue::H4 => EValue::H13,
                EValue::H5 => EValue::H14,
                EValue::H6 => EValue::H15,
                EValue::H7 => EValue::H16,
                EValue::H8 => EValue::H17,
                EValue::H9 => EValue::H18,
                EValue::H10 => EValue::H19,
                EValue::H11 => EValue::H20,
                EValue::H12 => EValue::H21,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S20,
                EValue::S12 => EValue::S21,
                EValue::S13 => EValue::H12,
                EValue::S14 => EValue::H13,
                EValue::S15 => EValue::H14,
                EValue::S16 => EValue::H15,
                EValue::S17 => EValue::H16,
                EValue::S18 => EValue::H17,
                EValue::S19 => EValue::H18,
                EValue::S20 => EValue::H19,
                EValue::S21 => EValue::H20,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S19,
            },
            EValue::S20 => match rhs {
                EValue::H2 => EValue::H12,
                EValue::H3 => EValue::H13,
                EValue::H4 => EValue::H14,
                EValue::H5 => EValue::H15,
                EValue::H6 => EValue::H16,
                EValue::H7 => EValue::H17,
                EValue::H8 => EValue::H18,
                EValue::H9 => EValue::H19,
                EValue::H10 => EValue::H20,
                EValue::H11 => EValue::H21,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::S21,
                EValue::S12 => EValue::H12,
                EValue::S13 => EValue::H13,
                EValue::S14 => EValue::H14,
                EValue::S15 => EValue::H15,
                EValue::S16 => EValue::H16,
                EValue::S17 => EValue::H17,
                EValue::S18 => EValue::H18,
                EValue::S19 => EValue::H19,
                EValue::S20 => EValue::H20,
                EValue::S21 => EValue::H21,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S20,
            },
            EValue::S21 => match rhs {
                EValue::H2 => EValue::H13,
                EValue::H3 => EValue::H14,
                EValue::H4 => EValue::H15,
                EValue::H5 => EValue::H16,
                EValue::H6 => EValue::H17,
                EValue::H7 => EValue::H18,
                EValue::H8 => EValue::H19,
                EValue::H9 => EValue::H20,
                EValue::H10 => EValue::H21,
                EValue::H11 => EValue::Bust,
                EValue::H12 => EValue::Bust,
                EValue::H13 => EValue::Bust,
                EValue::H14 => EValue::Bust,
                EValue::H15 => EValue::Bust,
                EValue::H16 => EValue::Bust,
                EValue::H17 => EValue::Bust,
                EValue::H18 => EValue::Bust,
                EValue::H19 => EValue::Bust,
                EValue::H20 => EValue::Bust,
                EValue::H21 => EValue::Bust,
                EValue::S11 => EValue::H12,
                EValue::S12 => EValue::H13,
                EValue::S13 => EValue::H14,
                EValue::S14 => EValue::H15,
                EValue::S15 => EValue::H16,
                EValue::S16 => EValue::H17,
                EValue::S17 => EValue::H18,
                EValue::S18 => EValue::H19,
                EValue::S19 => EValue::H20,
                EValue::S20 => EValue::H21,
                EValue::S21 => EValue::Bust,
                EValue::Bust => EValue::Bust,
                EValue::None => EValue::S21,
            },
            EValue::Bust => EValue::Bust,
            EValue::None => rhs,
        }
    }
}

#[cfg(test)]
mod tests {
    use strum::IntoEnumIterator;
    use super::EValue;

    #[tokio::test]
    async fn test() {
        let mut error_list = vec![];
        for a in EValue::iter() {
            for b in EValue::iter() {
                let sum1 = a + b;
                let sum2 = b + a;
                if sum1 != sum2 {
                    error_list.push((a, b, sum1, sum2));
                    println!("{:?}\t{:?}\t{:?}\t{:?}", a, b, sum1, sum2);
                }
            }
        }
        assert_eq!(error_list.len(), 0);
    }
}
